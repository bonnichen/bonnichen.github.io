import "./style.css";
import { motion, useScroll, useTransform, useSpring } from "motion/react";
import { useRef, useState, useEffect } from "react";

let Computer = () => {
  const containerRef = useRef<HTMLDivElement | null>(null);
  const { scrollYProgress } = useScroll();
  const path1 = useTransform(scrollYProgress, [0, 0.35], [0.3, 1]);
  const path2 = useTransform(scrollYProgress, [0.28, 0.48], [0, 1]);
  const path3 = useTransform(scrollYProgress, [0.5, 0.95], [0, 1]);
  const path2Offset = useTransform(path2, [0, 1], [1, 0]);

  return (
    <div ref={containerRef} className="lineArt">
      <motion.svg
        className="computerSVG"
        width="1159"
        height="916"
        viewBox="0 0 1159 916"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <motion.path
          d="M989.099 341.521L968 233.5C968 227.5 960.5 229.021 960.5 233.5L994 337.5C996 345 993.5 346.5 977 348L849.5 362.5C839.5 363.521 840.5 367.816 845.5 369.5C847.5 370.174 869.12 375.421 939.598 391.021C953.098 392.021 956.599 392.021 964.098 391.021L1117.5 366.021C1125.5 366.021 1119.6 370.521 1115.6 371.521C1071.36 382.58 995.086 396.694 964.098 401C960.5 401.5 943.5 402.5 937 401L830.098 371.521C824.598 367.021 796.597 231.021 797.097 225.521C797.706 218.822 799.097 219.521 807.597 219.521L910 221C993.098 221 989.098 206 1007.6 123C1024.68 46.3803 1115.6 113 1115.6 160C1115.6 211 997.099 34.5 997.099 -13M989.099 341.521L835.098 358.021L807.597 229.021L934.5 225.521C968 225.521 934.5 265.5 894 280.5C883.618 284.345 857.5 294.5 851.5 282.5C844 267.5 858.132 259.02 865 257C877 253.471 910 248.545 910 280.5C910 311.5 947.5 308 934.5 327C920.502 347.459 918.506 299 944.5 304C967.5 308.424 938 343.521 989.099 341.521ZM989.099 341.521L1081 357C1108 364.021 1064.7 369.138 1049.5 371.521L1005.5 379.5C993 381.5 984.5 383.5 979.5 381.5L964.098 376.021C956.176 374.038 960.797 372.195 964.098 371.521L1009.1 364.021C1010.9 363.681 1015 364.021 1017.5 365L1028 368.5C1035 370.521 1043 369.5 1034.5 366.021C1026.5 362.042 1013 359 1005.5 360.5L923 374.5C917 375.717 909.833 375.007 907 374.5L873 369.5C861.5 367.5 870.5 365.5 878 364.5L979 352.5C998 350.5 1000.5 349 1012 352.5C1019.5 354.783 1016.1 357 1009.1 357C971.265 358.333 844.3 365.421 823.5 369.021C721.516 389.014 676.591 550.356 302.091 572.5C72.0907 586.1 -14.9999 666.5 4.50022 782.5C4.50029 907.5 201 898 283.5 817C352 749.745 310 653.5 283.5 653.5C226.5 653.5 222.7 719.1 251.5 763.5C353.986 921.5 516.292 535.466 773.681 572.5C912.681 592.5 887.281 862.435 994 817C1145.5 752.5 1157.5 831 1157.5 914"
          stroke="black"
          strokeWidth={3}
          strokeLinecap="round"
          strokeLinejoin="bevel"
          style={{ pathLength: path1 }}
        />
      </motion.svg>
      <motion.svg
        className="whiteLineSVG"
        width="186"
        height="537"
        viewBox="0 0 186 537"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <motion.path
          d="M2 536C10.8 407.6 41.5 295 81.5 295C121.5 295 129 382.5 177 329.5C228.032 273.153 2.00034 373.558 2 276.5C1.9997 192 130.5 221.5 161 155.5C191.5 89.5 87.1251 72.5 105 45C118 25 156.5 15.5 156.5 0"
          stroke="white"
          strokeWidth={3}
          style={{ pathLength: path2, pathOffset: path2Offset }}
        />
      </motion.svg>

      <motion.svg
        width="348"
        height="957"
        viewBox="0 0 348 957"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="blackLineSVG"
      >
        <motion.path
          d="M107.227 1C104.027 259.8 181.12 192.535 205.727 161C257.228 95 396.052 306.166 229.228 286C138.227 275 65.7273 337 76.7272 445C86.8888 544.769 126.888 720.857 205.727 686.5C314.727 639 121.227 572.5 44.227 553.5C-134.772 509.331 311.028 890.8 346.228 900"
          stroke="black"
          strokeWidth={3}
          style={{ pathLength: path3 }}
        />
      </motion.svg>
    </div>
  );
};

export default Computer;
